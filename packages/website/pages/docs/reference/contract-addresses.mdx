import {
  SEPOLIA_CONFIG,
  GRIMSVOTN_CONFIG,
  ELDFELL_CONFIG,
} from "../../../domain/chain";
import { contractAddressToLink } from "../../../utils/contractAddressToLink";
import Link from "next/link";

{/* TODO: interpolate network names from domain config objects, see: https://github.com/shuding/nextra/issues/2076 */}
{/* TODO: make this file DRYer */}

# Contract addresses

**Based contracts** refer to contracts deployed on the base layer, where the rollup relies on for data availability (DA). **Rollup contracts** refer to contracts deployed on the rollup.

{/* Sepolia L1 contracts */}

## Sepolia L1

### Based contracts

<br />
<table>
  <thead>
    <tr>
      <th style={{ textAlign: "left" }}>Name</th>
      <th style={{ textAlign: "left" }}>Proxy</th>
      <th style={{ textAlign: "left" }}>Implementation</th>
    </tr>
  </thead>
  <tbody>
    {Object.keys(SEPOLIA_CONFIG.l1Contracts).map((key) => {
      const contract = SEPOLIA_CONFIG.l1Contracts[key];
      const baseUrl = SEPOLIA_CONFIG.blockExplorer.url;
      const proxyAddress = contract.address.proxy ?? "None";
      const implementationAddress =
        contract.address.implementation ?? contract.address;
      return (
        <tr key={contract.name}>
          <td>{contract.name}</td>
          <td>
            {proxyAddress === "None" ? (
              "None"
            ) : (
              <a href={contractAddressToLink(baseUrl, proxyAddress)}>
                {`${SEPOLIA_CONFIG.blockExplorer.name} ↗`}
              </a>
            )}
          </td>
          <td>
            <a href={contractAddressToLink(baseUrl, implementationAddress)}>
              {`${SEPOLIA_CONFIG.blockExplorer.name} ↗`}
            </a>
          </td>
        </tr>
      );
    })}

  </tbody>
</table>

### Rollup contracts

None.

### Other contracts

None.

{/* Grimsvotn L2 contracts */}

## Grimsvotn L2

### Based contracts

<br />
<table>
  <thead>
    <tr>
      <th style={{ textAlign: "left" }}>Name</th>
      <th style={{ textAlign: "left" }}>Proxy</th>
      <th style={{ textAlign: "left" }}>Implementation</th>
    </tr>
  </thead>
  <tbody>
    {Object.keys(GRIMSVOTN_CONFIG.l1Contracts).map((key) => {
      const contract = GRIMSVOTN_CONFIG.l1Contracts[key];
      const baseUrl = GRIMSVOTN_CONFIG.blockExplorer.url;
      const proxyAddress = contract.address.proxy ?? "None";
      const implementationAddress =
        contract.address.implementation ?? contract.address;
      return (
        <tr key={contract.name}>
          <td>{contract.name}</td>
          <td>
            {proxyAddress === "None" ? (
              "None"
            ) : (
              <a href={contractAddressToLink(baseUrl, proxyAddress)}>
                {`${GRIMSVOTN_CONFIG.blockExplorer.name} ↗`}
              </a>
            )}
          </td>
          <td>
            <a href={contractAddressToLink(baseUrl, implementationAddress)}>
              {`${GRIMSVOTN_CONFIG.blockExplorer.name} ↗`}
            </a>
          </td>
        </tr>
      );
    })}
  </tbody>
</table>

### Rollup contracts

<br />
<table>
  <thead>
    <tr>
      <th style={{ textAlign: "left" }}>Name</th>
      <th style={{ textAlign: "left" }}>Proxy</th>
      <th style={{ textAlign: "left" }}>Implementation</th>
    </tr>
  </thead>
  <tbody>
    {Object.keys(GRIMSVOTN_CONFIG.l2Contracts).map((key) => {
      const contract = GRIMSVOTN_CONFIG.l2Contracts[key];
      const baseUrl = GRIMSVOTN_CONFIG.blockExplorer.url;
      const proxyAddress = contract.address.proxy ?? "None";
      const implementationAddress =
        contract.address.implementation ?? contract.address;
      return (
        <tr key={contract.name}>
          <td>{contract.name}</td>
          <td>
            {proxyAddress === "None" ? (
              "None"
            ) : (
              <a href={contractAddressToLink(baseUrl, proxyAddress)}>
                {`${GRIMSVOTN_CONFIG.blockExplorer.name} ↗`}
              </a>
            )}
          </td>
          <td>
            <a href={contractAddressToLink(baseUrl, implementationAddress)}>
              {`${GRIMSVOTN_CONFIG.blockExplorer.name} ↗`}
            </a>
          </td>
        </tr>
      );
    })}
  </tbody>
</table>

### Other contracts

<br />
<table>
  <thead>
    <tr>
      <th style={{ textAlign: "left" }}>Name</th>
      <th style={{ textAlign: "left" }}>Proxy</th>
      <th style={{ textAlign: "left" }}>Implementation</th>
    </tr>
  </thead>
  <tbody>
    {GRIMSVOTN_CONFIG.otherContracts.map((key) => {
      const contract = key;
      const baseUrl = GRIMSVOTN_CONFIG.blockExplorer.url;
      const proxyAddress = contract.address.proxy ?? "None";
      const implementationAddress =
        contract.address.implementation ?? contract.address;
      return (
        <tr key={contract.name}>
          <td>{contract.name}</td>
          <td>
            {proxyAddress === "None" ? (
              "None"
            ) : (
              <a href={contractAddressToLink(baseUrl, proxyAddress)}>
                {`${GRIMSVOTN_CONFIG.blockExplorer.name} ↗`}
              </a>
            )}
          </td>
          <td>
            <a href={contractAddressToLink(baseUrl, implementationAddress)}>
              {`${GRIMSVOTN_CONFIG.blockExplorer.name} ↗`}
            </a>
          </td>
        </tr>
      );
    })}
  </tbody>
</table>

{/* Eldfell L3 contracts */}

## Eldfell L3

### Based contracts

None.

### Rollup contracts

<br />
<table>
  <thead>
    <tr>
      <th style={{ textAlign: "left" }}>Name</th>
      <th style={{ textAlign: "left" }}>Proxy</th>
      <th style={{ textAlign: "left" }}>Implementation</th>
    </tr>
  </thead>
  <tbody>
    {Object.keys(ELDFELL_CONFIG.l2Contracts).map((key) => {
      const contract = ELDFELL_CONFIG.l2Contracts[key];
      const baseUrl = ELDFELL_CONFIG.blockExplorer.url;
      const proxyAddress = contract.address.proxy ?? "None";
      const implementationAddress =
        contract.address.implementation ?? contract.address;
      return (
        <tr key={contract.name}>
          <td>{contract.name}</td>
          <td>
            {proxyAddress === "None" ? (
              "None"
            ) : (
              <a href={contractAddressToLink(baseUrl, proxyAddress)}>
                {`${ELDFELL_CONFIG.blockExplorer.name} ↗`}
              </a>
            )}
          </td>
          <td>
            <a href={contractAddressToLink(baseUrl, implementationAddress)}>
              {`${ELDFELL_CONFIG.blockExplorer.name} ↗`}
            </a>
          </td>
        </tr>
      );
    })}
  </tbody>
</table>

### Other contracts

None.
